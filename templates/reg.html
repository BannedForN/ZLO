{% extends "index.html" %}
{% block content %}
<h2>Регистрация</h2>
{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %}
{% if success %}
<div class="alert alert-success">{{ success }}</div>
<div class="form-group">
    <label for="address">Ваш публичный ключ:</label>
    <div class="input-group">
        <input type="text" class="form-control" id="address" value="{{ address }}" readonly>
        <div class="input-group-append">
            <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard()">Копировать</button>
        </div>
    </div>
</div>
{% else %}
<form method="post">
    <div class="form-group">
        <label for="password">Пароль:</label>
        <input type="password" class="form-control" id="password" name="password" required>
    </div>
    <button type="submit" class="btn btn-primary">Регистрация</button>
</form>
{% endif %}

<script>
function copyToClipboard() {
    var copyText = document.getElementById("address");
    copyText.select();
    copyText.setSelectionRange(0, 99999); /* For mobile devices */
    document.execCommand("copy");
    alert("Copied the text: " + copyText.value);
}
</script>
{% endblock %}